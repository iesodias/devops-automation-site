"use strict";(self.webpackChunkdevops_automation_site=self.webpackChunkdevops_automation_site||[]).push([[1442],{3454:(e,r,a)=>{a.r(r),a.d(r,{assets:()=>l,contentTitle:()=>t,default:()=>u,frontMatter:()=>n,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"tipos-variaveis","title":"Aula 4 - Tipos de Vari\xe1veis no Terraform","description":"---","source":"@site/curso-terraform-udemy/05-tipos-variaveis.md","sourceDirName":".","slug":"/tipos-variaveis","permalink":"/udemy/terraform-automacao/tipos-variaveis","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"id":"tipos-variaveis","title":"Aula 4 - Tipos de Vari\xe1veis no Terraform","noindex":true},"sidebar":"tutorialSidebar","previous":{"title":"Aula 3 - Deixando o C\xf3digo Inteligente com Vari\xe1veis e Outputs","permalink":"/udemy/terraform-automacao/variaveis-outputs"},"next":{"title":"Aula 5 - Criando Recursos em Lote com count e for_each","permalink":"/udemy/terraform-automacao/foreach-count"}}');var i=a(4848),s=a(8453);const n={id:"tipos-variaveis",title:"Aula 4 - Tipos de Vari\xe1veis no Terraform",noindex:!0},t="Aula 4: Tipos de Vari\xe1veis no Terraform",l={},c=[{value:"Introdu\xe7\xe3o",id:"introdu\xe7\xe3o",level:2},{value:"O que s\xe3o Tipos de Vari\xe1veis?",id:"o-que-s\xe3o-tipos-de-vari\xe1veis",level:2},{value:"Tipos Primitivos",id:"tipos-primitivos",level:3},{value:"Tipos de Cole\xe7\xe3o",id:"tipos-de-cole\xe7\xe3o",level:3},{value:"Explica\xe7\xe3o T\xe9cnica",id:"explica\xe7\xe3o-t\xe9cnica",level:2},{value:"Comandos de Refer\xeancia",id:"comandos-de-refer\xeancia",level:2},{value:"Exemplo Pr\xe1tico: map(string) para Tags (Azure)",id:"exemplo-pr\xe1tico-mapstring-para-tags-azure",level:2},{value:"variables.tf",id:"variablestf",level:3},{value:"main.tf",id:"maintf",level:3},{value:"Output Esperado",id:"output-esperado",level:2},{value:"<code>terraform plan</code>",id:"terraform-plan",level:3},{value:"Melhores Pr\xe1ticas",id:"melhores-pr\xe1ticas",level:2},{value:"Refer\xeancia Oficial",id:"refer\xeancia-oficial",level:2}];function d(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.header,{children:(0,i.jsx)(r.h1,{id:"aula-4-tipos-de-vari\xe1veis-no-terraform",children:"Aula 4: Tipos de Vari\xe1veis no Terraform"})}),"\n",(0,i.jsx)(r.hr,{}),"\n",(0,i.jsx)(r.h2,{id:"introdu\xe7\xe3o",children:"Introdu\xe7\xe3o"}),"\n",(0,i.jsxs)(r.p,{children:["No Terraform, as vari\xe1veis podem ter ",(0,i.jsx)(r.strong,{children:"v\xe1rios tipos de dados"}),", o que permite criar c\xf3digos mais robustos, seguros e reutiliz\xe1veis. Definir corretamente o tipo de vari\xe1vel ajuda a evitar erros e a documentar melhor o comportamento esperado."]}),"\n",(0,i.jsx)(r.hr,{}),"\n",(0,i.jsx)(r.h2,{id:"o-que-s\xe3o-tipos-de-vari\xe1veis",children:"O que s\xe3o Tipos de Vari\xe1veis?"}),"\n",(0,i.jsxs)(r.p,{children:["S\xe3o as ",(0,i.jsx)(r.strong,{children:"categorias de dados"})," que uma vari\xe1vel pode receber. Com elas, o Terraform valida automaticamente se os valores est\xe3o corretos."]}),"\n",(0,i.jsx)(r.p,{children:"Dividem-se em:"}),"\n",(0,i.jsx)(r.h3,{id:"tipos-primitivos",children:"Tipos Primitivos"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"string"}),": qualquer texto entre aspas (",(0,i.jsx)(r.code,{children:'"meu texto"'}),")"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"number"}),": n\xfameros inteiros ou decimais (",(0,i.jsx)(r.code,{children:"10"}),", ",(0,i.jsx)(r.code,{children:"3.14"}),")"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"bool"}),": valores booleanos (",(0,i.jsx)(r.code,{children:"true"})," ou ",(0,i.jsx)(r.code,{children:"false"}),")"]}),"\n"]}),"\n",(0,i.jsx)(r.h3,{id:"tipos-de-cole\xe7\xe3o",children:"Tipos de Cole\xe7\xe3o"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"list(<tipo>)"}),": lista ordenada de elementos (",(0,i.jsx)(r.code,{children:'["a", "b", "c"]'}),")"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"map(<tipo>)"}),": chave-valor com valores do mesmo tipo (",(0,i.jsx)(r.code,{children:'{"chave" = "valor"}'}),")"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"object({ chave = tipo, ... })"}),": estrutura com chaves e tipos definidos"]}),"\n"]}),"\n",(0,i.jsx)(r.hr,{}),"\n",(0,i.jsx)(r.h2,{id:"explica\xe7\xe3o-t\xe9cnica",children:"Explica\xe7\xe3o T\xe9cnica"}),"\n",(0,i.jsxs)(r.p,{children:["Ao definir uma vari\xe1vel, podemos usar o argumento ",(0,i.jsx)(r.code,{children:"type"})," para especificar o tipo de dado. Isso ajuda o Terraform a:"]}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"Validar automaticamente a entrada"}),"\n",(0,i.jsx)(r.li,{children:"Gerar mensagens de erro claras"}),"\n",(0,i.jsx)(r.li,{children:"Garantir que o recurso receba o formato correto"}),"\n"]}),"\n",(0,i.jsx)(r.hr,{}),"\n",(0,i.jsx)(r.h2,{id:"comandos-de-refer\xeancia",children:"Comandos de Refer\xeancia"}),"\n",(0,i.jsx)(r.p,{children:"Crie os arquivos de vari\xe1veis e recursos, e use os comandos:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"terraform init\nterraform plan\nterraform apply\n"})}),"\n",(0,i.jsx)(r.hr,{}),"\n",(0,i.jsx)(r.h2,{id:"exemplo-pr\xe1tico-mapstring-para-tags-azure",children:"Exemplo Pr\xe1tico: map(string) para Tags (Azure)"}),"\n",(0,i.jsx)(r.h3,{id:"variablestf",children:"variables.tf"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-hcl",children:'variable "tags_padrao" {\n  type        = map(string)\n  description = "Tags que ser\xe3o aplicadas em todos os recursos."\n  default = {\n    "Projeto"      = "Curso Terraform"\n    "Ambiente"     = "Desenvolvimento"\n    "GerenciadoPor" = "Terraform"\n  }\n}\n\nvariable "nome_da_storage" {\n  type        = string\n  default     = "storagetiposvariaveis"\n}\n'})}),"\n",(0,i.jsx)(r.h3,{id:"maintf",children:"main.tf"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-hcl",children:'provider "azurerm" {\n  features {}\n}\n\nresource "azurerm_resource_group" "rg" {\n  name     = "rg-tipos"\n  location = "East US"\n  tags     = var.tags_padrao\n}\n\nresource "azurerm_storage_account" "storage" {\n  name                     = var.nome_da_storage\n  resource_group_name      = azurerm_resource_group.rg.name\n  location                 = azurerm_resource_group.rg.location\n  account_tier             = "Standard"\n  account_replication_type = "LRS"\n  tags                     = var.tags_padrao\n}\n'})}),"\n",(0,i.jsx)(r.hr,{}),"\n",(0,i.jsx)(r.h2,{id:"output-esperado",children:"Output Esperado"}),"\n",(0,i.jsx)(r.h3,{id:"terraform-plan",children:(0,i.jsx)(r.code,{children:"terraform plan"})}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-text",children:'Terraform will perform the following actions:\n\n  # azurerm_resource_group.rg will be created\n  + name     = "rg-tipos"\n  + location = "East US"\n  + tags     = {\n      + "Ambiente"      = "Desenvolvimento"\n      + "GerenciadoPor" = "Terraform"\n      + "Projeto"       = "Curso Terraform"\n    }\n\n  # azurerm_storage_account.storage will be created\n  + name                     = "storagetiposvariaveis"\n  + resource_group_name      = "rg-tipos"\n  + location                 = "East US"\n  + tags                     = {\n      + "Ambiente"      = "Desenvolvimento"\n      + "GerenciadoPor" = "Terraform"\n      + "Projeto"       = "Curso Terraform"\n    }\n\nPlan: 2 to add, 0 to change, 0 to destroy.\n'})}),"\n",(0,i.jsx)(r.hr,{}),"\n",(0,i.jsx)(r.h2,{id:"melhores-pr\xe1ticas",children:"Melhores Pr\xe1ticas"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["Sempre defina o ",(0,i.jsx)(r.code,{children:"type"})," nas vari\xe1veis para evitar erros de digita\xe7\xe3o"]}),"\n",(0,i.jsxs)(r.li,{children:["Use ",(0,i.jsx)(r.code,{children:"map(string)"})," para organizar ",(0,i.jsx)(r.strong,{children:"tags"})," e ",(0,i.jsx)(r.strong,{children:"par\xe2metros reutiliz\xe1veis"})]}),"\n",(0,i.jsxs)(r.li,{children:["Prefira ",(0,i.jsx)(r.code,{children:"list"})," para listas de valores como zonas, IPs ou nomes de recursos"]}),"\n",(0,i.jsxs)(r.li,{children:["Use ",(0,i.jsx)(r.code,{children:"object"})," para estruturas aninhadas com valida\xe7\xe3o mais r\xedgida"]}),"\n",(0,i.jsx)(r.li,{children:"Separe vari\xe1veis por tipo em arquivos diferentes se o projeto crescer"}),"\n"]}),"\n",(0,i.jsx)(r.hr,{}),"\n",(0,i.jsx)(r.h2,{id:"refer\xeancia-oficial",children:"Refer\xeancia Oficial"}),"\n",(0,i.jsxs)(r.p,{children:["Para mais detalhes, consulte a documenta\xe7\xe3o oficial da HashiCorp:\n\ud83d\udd17 ",(0,i.jsx)(r.a,{href:"https://developer.hashicorp.com/terraform/language/values/variables",children:"https://developer.hashicorp.com/terraform/language/values/variables"})]})]})}function u(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,r,a)=>{a.d(r,{R:()=>n,x:()=>t});var o=a(6540);const i={},s=o.createContext(i);function n(e){const r=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function t(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:n(e.components),o.createElement(s.Provider,{value:r},e.children)}}}]);