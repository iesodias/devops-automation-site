"use strict";(self.webpackChunkdevops_automation_site=self.webpackChunkdevops_automation_site||[]).push([[3432],{7610:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>u,frontMatter:()=>r,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"modulo-02-Introducao-Github-Actions/marketplace","title":"Marketplace com Milh\xf5es de Actions Reutiliz\xe1veis","description":"Introdu\xe7\xe3o","source":"@site/curso-github-actions-udemy/modulo-02-Introducao-Github-Actions/06-Marketplace-Actions-Reutilizaveis.md","sourceDirName":"modulo-02-Introducao-Github-Actions","slug":"/modulo-02-Introducao-Github-Actions/marketplace","permalink":"/udemy/github-actions-automacao/modulo-02-Introducao-Github-Actions/marketplace","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"id":"marketplace","title":"Marketplace com Milh\xf5es de Actions Reutiliz\xe1veis"},"sidebar":"tutorialSidebar","previous":{"title":"O que s\xe3o Actions","permalink":"/udemy/github-actions-automacao/modulo-02-Introducao-Github-Actions/O-que-sao-Actions"},"next":{"title":"Estrutura de Diret\xf3rios e Arquivos","permalink":"/udemy/github-actions-automacao/modulo-03-Criando-workflow/estrutura"}}');var o=a(4848),s=a(8453);const r={id:"marketplace",title:"Marketplace com Milh\xf5es de Actions Reutiliz\xe1veis"},t="Marketplace com Milh\xf5es de Actions Reutiliz\xe1veis",c={},l=[{value:"Introdu\xe7\xe3o",id:"introdu\xe7\xe3o",level:2},{value:"Defini\xe7\xe3o",id:"defini\xe7\xe3o",level:2},{value:"Explica\xe7\xe3o T\xe9cnica",id:"explica\xe7\xe3o-t\xe9cnica",level:2},{value:"Resolu\xe7\xe3o e Referenciamento",id:"resolu\xe7\xe3o-e-referenciamento",level:3},{value:"Benef\xedcios Principais",id:"benef\xedcios-principais",level:3},{value:"Riscos e Mitiga\xe7\xe3o",id:"riscos-e-mitiga\xe7\xe3o",level:3},{value:"Crit\xe9rios de Sele\xe7\xe3o",id:"crit\xe9rios-de-sele\xe7\xe3o",level:3},{value:"Quando Criar Action Pr\xf3pria (Contexto Marketplace)",id:"quando-criar-action-pr\xf3pria-contexto-marketplace",level:3},{value:"Governan\xe7a Organizacional",id:"governan\xe7a-organizacional",level:3},{value:"Exemplo Pr\xe1tico",id:"exemplo-pr\xe1tico",level:2},{value:"Compara\xe7\xe3o: Sem Action vs Com Action",id:"compara\xe7\xe3o-sem-action-vs-com-action",level:3},{value:"Conclus\xe3o",id:"conclus\xe3o",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"marketplace-com-milh\xf5es-de-actions-reutiliz\xe1veis",children:"Marketplace com Milh\xf5es de Actions Reutiliz\xe1veis"})}),"\n",(0,o.jsx)(n.h2,{id:"introdu\xe7\xe3o",children:"Introdu\xe7\xe3o"}),"\n",(0,o.jsx)(n.p,{children:'O Marketplace do GitHub Actions oferece um ecossistema massivo de componentes reutiliz\xe1veis que aceleram pipelines: checkout de c\xf3digo, setup de linguagens, build, testes, an\xe1lise, containeriza\xe7\xe3o e deploy. Esta aula foca no uso estrat\xe9gico, sele\xe7\xe3o e governan\xe7a de actions p\xfablicas. Os fundamentos de o que \xe9 uma action (tipos, anatomia, inputs/outputs) j\xe1 foram apresentados na aula "O que s\xe3o Actions" e n\xe3o ser\xe3o repetidos aqui.'}),"\n",(0,o.jsx)(n.h2,{id:"defini\xe7\xe3o",children:"Defini\xe7\xe3o"}),"\n",(0,o.jsxs)(n.p,{children:["O GitHub Marketplace para Actions \xe9 um cat\xe1logo p\xfablico (com suporte a consumo controlado em organiza\xe7\xf5es) onde mantenedores publicam a\xe7\xf5es versionadas para reutiliza\xe7\xe3o ampla. Ele viabiliza acelera\xe7\xe3o e padroniza\xe7\xe3o operacional ao permitir compor workflows com blocos validados pela comunidade. Refer\xeancias imut\xe1veis (",(0,o.jsx)(n.code,{children:"@tag"}),", SHA) sustentam reprodutibilidade."]}),"\n",(0,o.jsx)(n.h2,{id:"explica\xe7\xe3o-t\xe9cnica",children:"Explica\xe7\xe3o T\xe9cnica"}),"\n",(0,o.jsx)(n.h3,{id:"resolu\xe7\xe3o-e-referenciamento",children:"Resolu\xe7\xe3o e Referenciamento"}),"\n",(0,o.jsxs)(n.p,{children:["O runner baixa o c\xf3digo da action a partir da refer\xeancia ",(0,o.jsx)(n.code,{children:"owner/repo@ref"})," (tag, branch ou SHA) e executa conforme ",(0,o.jsx)(n.code,{children:"action.yml"}),". Para seguran\xe7a e previsibilidade: preferir tag principal est\xe1vel (",(0,o.jsx)(n.code,{children:"@v4"}),") ou SHA fixo em cen\xe1rios regulados. Evitar branches mut\xe1veis (",(0,o.jsx)(n.code,{children:"@main"}),") em produ\xe7\xe3o."]}),"\n",(0,o.jsx)(n.h3,{id:"benef\xedcios-principais",children:"Benef\xedcios Principais"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Velocidade: reduz c\xf3digo repetitivo (ex: configura\xe7\xe3o de linguagem em uma linha)."}),"\n",(0,o.jsx)(n.li,{children:"Confiabilidade: a\xe7\xf5es populares s\xe3o amplamente testadas em m\xfaltiplos cen\xe1rios."}),"\n",(0,o.jsx)(n.li,{children:"Especializa\xe7\xe3o: encapsulam integra\xe7\xf5es complexas (cloud, containers, seguran\xe7a)."}),"\n",(0,o.jsx)(n.li,{children:"Evolu\xe7\xe3o: manuten\xe7\xe3o e atualiza\xe7\xf5es delegadas ao mantenedor original."}),"\n",(0,o.jsx)(n.li,{children:"Padr\xf5es: promovem consist\xeancia entre reposit\xf3rios."}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"riscos-e-mitiga\xe7\xe3o",children:"Riscos e Mitiga\xe7\xe3o"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Cadeia de fornecimento (a\xe7\xe3o comprometida) \u2192 Revisar fonte e fixar SHA quando necess\xe1rio."}),"\n",(0,o.jsx)(n.li,{children:"Ruptura em major update \u2192 Validar em branch isolada antes de adotar nova major."}),"\n",(0,o.jsx)(n.li,{children:"Abuso de a\xe7\xf5es gen\xe9ricas \u2192 Criar actions internas para regras corporativas (nomea\xe7\xe3o, pol\xedticas)."}),"\n",(0,o.jsx)(n.li,{children:"Lat\xeancia desnecess\xe1ria \u2192 Remover encadeamentos redundantes e habilitar cache (quando suportado)."}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"crit\xe9rios-de-sele\xe7\xe3o",children:"Crit\xe9rios de Sele\xe7\xe3o"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Popularidade/engajamento (downloads, estrelas, uso em projetos relevantes)."}),"\n",(0,o.jsx)(n.li,{children:"Atualiza\xe7\xf5es ativas e resposta a issues."}),"\n",(0,o.jsx)(n.li,{children:"Documenta\xe7\xe3o clara de inputs/outputs e exemplos."}),"\n",(0,o.jsx)(n.li,{children:"Pol\xedtica de versionamento (tags previs\xedveis, changelog)."}),"\n",(0,o.jsx)(n.li,{children:"Sa\xfade de depend\xeancias (sem libs obsoletas ou scripts ofuscados)."}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"quando-criar-action-pr\xf3pria-contexto-marketplace",children:"Quando Criar Action Pr\xf3pria (Contexto Marketplace)"}),"\n",(0,o.jsx)(n.p,{children:"Justifica internalizar quando h\xe1 repeti\xe7\xe3o em v\xe1rios reposit\xf3rios, pol\xedticas corporativas a encapsular, integra\xe7\xe3o propriet\xe1ria ou combina\xe7\xe3o recorrente (ex: setup + lint + notifica\xe7\xe3o). Composite \xe9 porta de entrada; JS/Docker quando h\xe1 l\xf3gica ou depend\xeancias nativas."}),"\n",(0,o.jsx)(n.h3,{id:"governan\xe7a-organizacional",children:"Governan\xe7a Organizacional"}),"\n",(0,o.jsx)(n.p,{children:"Manter cat\xe1logo interno aprovado; exigir revis\xe3o de seguran\xe7a para introdu\xe7\xe3o externa; padronizar pol\xedtica de vers\xf5es; validar actions internas com pipeline (lint + scan). Registrar lista aprovada reduz ambiguidades."}),"\n",(0,o.jsx)(n.h2,{id:"exemplo-pr\xe1tico",children:"Exemplo Pr\xe1tico"}),"\n",(0,o.jsx)(n.p,{children:"Pipeline que combina actions externas populares e composite interna (a l\xf3gica de cria\xe7\xe3o da composite foi explicada previamente na aula de fundamentos):"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:"name: Build and Scan\non: [push, pull_request]\n\njobs:\n  ci:\n    runs-on: ubuntu-latest\n    steps:\n      - name: Checkout\n        uses: actions/checkout@v4\n\n      - name: Setup Node\n        uses: actions/setup-node@v4\n        with:\n          node-version: 20\n          cache: 'npm'\n\n      - name: Install Dependencies\n        run: npm ci\n\n      - name: Run Tests\n        run: npm test -- --ci\n\n      - name: Upload Coverage\n        uses: codecov/codecov-action@v4\n        with:\n          fail_ci_if_error: true\n\n      - name: Security Scan (Dependabot Metadata)\n        uses: dependabot/fetch-metadata@v2\n        with:\n          github-token: ${{ secrets.GITHUB_TOKEN }}\n\n      - name: Container Build & Push\n        uses: docker/build-push-action@v5\n        with:\n          context: .\n          push: false\n          tags: my-app:ci\n\n      - name: Corporate Quality Gate\n        uses: ./.github/actions/quality-gate  # Composite interna\n        with:\n          min-coverage: '80'\n          lint-level: 'strict'\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Composite interna (",(0,o.jsx)(n.code,{children:".github/actions/quality-gate/action.yml"}),"):"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:"name: Quality Gate\nruns:\n  using: 'composite'\n  steps:\n    - run: npm run lint\n    - run: npm run coverage:check -- --min=$MIN\n      env:\n        MIN: ${{ inputs.min-coverage }}\n    - run: echo \"Qualidade validada\"\ninputs:\n  min-coverage:\n    required: true\n  lint-level:\n    required: false\n"})}),"\n",(0,o.jsx)(n.h3,{id:"compara\xe7\xe3o-sem-action-vs-com-action",children:"Compara\xe7\xe3o: Sem Action vs Com Action"}),"\n",(0,o.jsxs)(n.p,{children:["Instalar e configurar Node + cache de depend\xeancias manualmente demanda v\xe1rios passos shell. Usando ",(0,o.jsx)(n.code,{children:"actions/setup-node"})," isso \xe9 abstra\xeddo em uma \xfanica linha."]}),"\n",(0,o.jsx)(n.p,{children:"Sem action (trecho simplificado):"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:'steps:\n  - name: Baixar c\xf3digo\n    run: git clone ${{ github.server_url }}/${{ github.repository }} .\n  - name: Instalar Node manualmente\n    run: |\n      curl -fsSL https://nodejs.org/dist/v20.11.1/node-v20.11.1-linux-x64.tar.xz -o node.tar.xz\n      tar -xf node.tar.xz\n      mv node-v20.11.1-linux-x64 /opt/node\n      echo "/opt/node/bin" >> $GITHUB_PATH\n  - name: Gerar chave de cache\n    id: cache-key\n    run: echo "KEY=node-${{ hashFiles(\'package-lock.json\') }}" >> $GITHUB_OUTPUT\n  - name: Restaurar cache (exemplo conceitual)\n    run: echo "(Implementar l\xf3gica pr\xf3pria de cache)"\n  - name: Instalar depend\xeancias\n    run: npm ci\n'})}),"\n",(0,o.jsx)(n.p,{children:"Com action:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:"steps:\n  - uses: actions/checkout@v4\n  - uses: actions/setup-node@v4\n    with:\n      node-version: 20\n      cache: npm\n  - run: npm ci\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Constru\xe7\xe3o e push de imagem container sem action vs usando ",(0,o.jsx)(n.code,{children:"docker/build-push-action"}),":"]}),"\n",(0,o.jsx)(n.p,{children:"Sem action (forma direta):"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:"steps:\n  - run: docker build -t my-app:ci .\n  - run: docker login -u ${{ secrets.REGISTRY_USER }} -p ${{ secrets.REGISTRY_PASS }} registry.example.com\n  - run: docker tag my-app:ci registry.example.com/team/my-app:ci\n  - run: docker push registry.example.com/team/my-app:ci\n"})}),"\n",(0,o.jsx)(n.p,{children:"Com action:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:"steps:\n  - uses: docker/build-push-action@v5\n    with:\n      context: .\n      push: true\n      tags: registry.example.com/team/my-app:ci\n"})}),"\n",(0,o.jsx)(n.p,{children:"Principais redu\xe7\xf5es:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Menos linhas e menor superf\xedcie para erros repetitivos."}),"\n",(0,o.jsx)(n.li,{children:"Cache e autentica\xe7\xe3o encapsulados onde suportado."}),"\n",(0,o.jsx)(n.li,{children:"Atualiza\xe7\xf5es e corre\xe7\xf5es propagadas pelos mantenedores das actions."}),"\n",(0,o.jsx)(n.li,{children:"Foco no objetivo (testar, construir, publicar) em vez de detalhes operacionais."}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"conclus\xe3o",children:"Conclus\xe3o"}),"\n",(0,o.jsx)(n.p,{children:"Marketplace \xe9 catalisador de velocidade e padroniza\xe7\xe3o, desde que combinado com sele\xe7\xe3o criteriosa, controle de vers\xe3o disciplinado e governan\xe7a de seguran\xe7a. Diferen\xe7as conceituais de tipos e anatomia de actions residem na aula anterior; aqui o foco permanece em avaliar, integrar e sustentar um portf\xf3lio saud\xe1vel. Evolu\xe7\xe3o natural: estabelecer pipeline de valida\xe7\xe3o automatizada para novas actions externas e m\xe9tricas de ado\xe7\xe3o interna."})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,n,a)=>{a.d(n,{R:()=>r,x:()=>t});var i=a(6540);const o={},s=i.createContext(o);function r(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);