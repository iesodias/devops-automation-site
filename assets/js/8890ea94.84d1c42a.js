"use strict";(self.webpackChunkdevops_automation_site=self.webpackChunkdevops_automation_site||[]).push([[1969],{5545:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>u,frontMatter:()=>r,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"modulo-02-Introducao-Github-Actions/O-que-sao-Actions","title":"O que s\xe3o Actions","description":"id: actions","source":"@site/curso-github-actions-udemy/modulo-02-Introducao-Github-Actions/05-O-que-sao-Actions.md","sourceDirName":"modulo-02-Introducao-Github-Actions","slug":"/modulo-02-Introducao-Github-Actions/O-que-sao-Actions","permalink":"/udemy/github-actions-automacao/modulo-02-Introducao-Github-Actions/O-que-sao-Actions","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":5,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Navegando pela Interface do GitHub Actions","permalink":"/udemy/github-actions-automacao/modulo-02-Introducao-Github-Actions/interface"},"next":{"title":"Marketplace com Milh\xf5es de Actions Reutiliz\xe1veis","permalink":"/udemy/github-actions-automacao/modulo-02-Introducao-Github-Actions/marketplace"}}');var a=i(4848),s=i(8453);const r={},t="O que s\xe3o Actions",c={},d=[{value:"id: actions\ntitle: O que s\xe3o Actions?",id:"id-actionstitle-o-que-s\xe3o-actions",level:2},{value:"Introdu\xe7\xe3o",id:"introdu\xe7\xe3o",level:2},{value:"Defini\xe7\xe3o",id:"defini\xe7\xe3o",level:2},{value:"Explica\xe7\xe3o T\xe9cnica",id:"explica\xe7\xe3o-t\xe9cnica",level:2},{value:"Anatomia B\xe1sica",id:"anatomia-b\xe1sica",level:3},{value:"Inputs e Outputs",id:"inputs-e-outputs",level:3},{value:"Tipos em Detalhe",id:"tipos-em-detalhe",level:3},{value:"Diferen\xe7a Action vs Step",id:"diferen\xe7a-action-vs-step",level:3},{value:"Versionamento e Refer\xeancias",id:"versionamento-e-refer\xeancias",level:3},{value:"Seguran\xe7a",id:"seguran\xe7a",level:3},{value:"Performance",id:"performance",level:3},{value:"Quando Criar Action Pr\xf3pria",id:"quando-criar-action-pr\xf3pria",level:3},{value:"Estrutura Simplificada de <code>action.yml</code>",id:"estrutura-simplificada-de-actionyml",level:3},{value:"Outputs (Exemplo Conceitual)",id:"outputs-exemplo-conceitual",level:3},{value:"Publica\xe7\xe3o e Reuso Interno",id:"publica\xe7\xe3o-e-reuso-interno",level:3},{value:"Exemplo Pr\xe1tico",id:"exemplo-pr\xe1tico",level:2},{value:"Conclus\xe3o",id:"conclus\xe3o",level:2}];function l(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"o-que-s\xe3o-actions",children:"O que s\xe3o Actions"})}),"\n",(0,a.jsx)(n.h2,{id:"id-actionstitle-o-que-s\xe3o-actions",children:"id: actions\ntitle: O que s\xe3o Actions?"}),"\n",(0,a.jsx)(n.h1,{id:"o-que-s\xe3o-actions-1",children:"O que s\xe3o Actions"}),"\n",(0,a.jsx)(n.h2,{id:"introdu\xe7\xe3o",children:"Introdu\xe7\xe3o"}),"\n",(0,a.jsx)(n.p,{children:"Actions s\xe3o blocos reutiliz\xe1veis de automa\xe7\xe3o que voc\xea combina em steps para formar workflows. Elas encapsulam tarefas frequentes (checkout, setup de linguagem, build, teste, scan, deploy) reduzindo repeti\xe7\xe3o e padronizando pr\xe1ticas. Entender estrutura, tipos, versionamento e quando criar uma action pr\xf3pria evita reinven\xe7\xe3o e aumenta consist\xeancia operacional."}),"\n",(0,a.jsx)(n.h2,{id:"defini\xe7\xe3o",children:"Defini\xe7\xe3o"}),"\n",(0,a.jsxs)(n.p,{children:["Uma action \xe9 uma unidade versionada de execu\xe7\xe3o declarativa consumida via ",(0,a.jsx)(n.code,{children:"uses:"})," dentro de um step. Fornece interface (inputs), produz resultados (outputs), pode definir vari\xe1veis de ambiente e roda dentro de um job. Tr\xeas tipos principais:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"JavaScript: executada diretamente no runner (Node.js). Menor lat\xeancia, acesso direto ao filesystem e \xe0 API."}),"\n",(0,a.jsx)(n.li,{children:"Docker: executa dentro de container constru\xeddo/fornecido, isolando depend\xeancias. \xdatil para toolchains espec\xedficos."}),"\n",(0,a.jsx)(n.li,{children:"Composite: encadeia outros steps (comandos e/ou outras actions) em um pacote declarativo, simplificando repeti\xe7\xe3o."}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"explica\xe7\xe3o-t\xe9cnica",children:"Explica\xe7\xe3o T\xe9cnica"}),"\n",(0,a.jsx)(n.h3,{id:"anatomia-b\xe1sica",children:"Anatomia B\xe1sica"}),"\n",(0,a.jsxs)(n.p,{children:["Arquivo principal: ",(0,a.jsx)(n.code,{children:"action.yml"})," (ou ",(0,a.jsx)(n.code,{children:"action.yaml"}),") contendo metadados: ",(0,a.jsx)(n.code,{children:"name"}),", ",(0,a.jsx)(n.code,{children:"description"}),", ",(0,a.jsx)(n.code,{children:"inputs"}),", ",(0,a.jsx)(n.code,{children:"outputs"}),", ",(0,a.jsx)(n.code,{children:"runs"}),". O consumo se d\xe1 por ",(0,a.jsx)(n.code,{children:"owner/repo@ref"})," onde ",(0,a.jsx)(n.code,{children:"ref"})," pode ser tag (ex: ",(0,a.jsx)(n.code,{children:"v4"}),"), branch ou SHA imut\xe1vel (prefer\xedvel para maior seguran\xe7a)."]}),"\n",(0,a.jsx)(n.h3,{id:"inputs-e-outputs",children:"Inputs e Outputs"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Inputs s\xe3o declarados com ",(0,a.jsx)(n.code,{children:"required"}),", ",(0,a.jsx)(n.code,{children:"default"})," e acessados via vari\xe1veis de ambiente ou ",(0,a.jsx)(n.code,{children:"core.getInput()"})," (JS)."]}),"\n",(0,a.jsxs)(n.li,{children:["Outputs permitem encadear dados para steps subsequentes: definidos pela action e consumidos em ",(0,a.jsx)(n.code,{children:"${{ steps.id.outputs.saida }}"}),"."]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"tipos-em-detalhe",children:"Tipos em Detalhe"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["JavaScript: define ",(0,a.jsx)(n.code,{children:"runs.using: node20"})," (ou vers\xe3o suportada). Empacota depend\xeancias (idealmente com lockfile) ou vendora c\xf3digo para minimizar instala\xe7\xe3o em runtime."]}),"\n",(0,a.jsxs)(n.li,{children:["Docker: define ",(0,a.jsx)(n.code,{children:"runs.using: docker"})," e ",(0,a.jsx)(n.code,{children:"image: Dockerfile"})," (ou imagem externa). Adequado quando ferramenta exige bin\xe1rios nativos espec\xedficos."]}),"\n",(0,a.jsxs)(n.li,{children:["Composite: ",(0,a.jsx)(n.code,{children:"runs.using: composite"})," e lista ",(0,a.jsx)(n.code,{children:"steps:"})," internos; n\xe3o introduz runtime diferente, apenas reutiliza."]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"diferen\xe7a-action-vs-step",children:"Diferen\xe7a Action vs Step"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Step: instru\xe7\xe3o at\xf4mica em um job (",(0,a.jsx)(n.code,{children:"run:"})," ou ",(0,a.jsx)(n.code,{children:"uses:"}),")."]}),"\n",(0,a.jsxs)(n.li,{children:["Action: elemento referenciado por steps (",(0,a.jsx)(n.code,{children:"uses:"}),") que encapsula l\xf3gica reutiliz\xe1vel."]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"versionamento-e-refer\xeancias",children:"Versionamento e Refer\xeancias"}),"\n",(0,a.jsx)(n.p,{children:"Boas pr\xe1ticas:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Preferir tags de vers\xe3o principal est\xe1vel (",(0,a.jsx)(n.code,{children:"@v4"}),") para receber corre\xe7\xf5es n\xe3o disruptivas."]}),"\n",(0,a.jsxs)(n.li,{children:["Em ambientes de compliance estrito: fixar SHA (",(0,a.jsx)(n.code,{children:"@<commit_sha>"}),")."]}),"\n",(0,a.jsxs)(n.li,{children:["Evitar uso de branch mut\xe1vel (",(0,a.jsx)(n.code,{children:"@main"}),") em produ\xe7\xe3o."]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"seguran\xe7a",children:"Seguran\xe7a"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Revisar fonte antes de introduzir action nova (especialmente Docker)."}),"\n",(0,a.jsx)(n.li,{children:"Fixar ref confi\xe1vel (tag imut\xe1vel assinada ou SHA) para prevenir supply chain hijack."}),"\n",(0,a.jsxs)(n.li,{children:["Restringir permiss\xf5es do ",(0,a.jsx)(n.code,{children:"GITHUB_TOKEN"})," via ",(0,a.jsx)(n.code,{children:"permissions:"})," reduzindo impacto."]}),"\n",(0,a.jsx)(n.li,{children:"Atualizar periodicamente para patches (dependabot pode sinalizar)."}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"performance",children:"Performance"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"A\xe7\xf5es JavaScript executam mais rapidamente (sem build de container)."}),"\n",(0,a.jsx)(n.li,{children:"Docker adiciona tempo de build/pull; usar cache de camadas quando poss\xedvel."}),"\n",(0,a.jsx)(n.li,{children:"Composite evita m\xfaltiplos steps redundantes e melhora legibilidade."}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"quando-criar-action-pr\xf3pria",children:"Quando Criar Action Pr\xf3pria"}),"\n",(0,a.jsx)(n.p,{children:"Criar uma action (JS ou Docker) quando:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Requer integra\xe7\xe3o complexa com API ou manipula\xe7\xe3o avan\xe7ada (ex: gera\xe7\xe3o de relat\xf3rio com parsing)."}),"\n",(0,a.jsx)(n.li,{children:"Depend\xeancias precisam de isolamento (bibliotecas nativas, ferramentas espec\xedficas).\nPreferir Composite quando:"}),"\n",(0,a.jsx)(n.li,{children:"Apenas agrupa sequ\xeancia de comandos e outras actions j\xe1 existentes."}),"\n",(0,a.jsx)(n.li,{children:"Deseja padronizar conven\xe7\xf5es (lint + teste + notifica\xe7\xe3o) sem l\xf3gica customizada sofisticada."}),"\n"]}),"\n",(0,a.jsxs)(n.h3,{id:"estrutura-simplificada-de-actionyml",children:["Estrutura Simplificada de ",(0,a.jsx)(n.code,{children:"action.yml"})]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"name: Setup Ferramenta X\ndescription: Instala e configura Ferramenta X\ninputs:\n  version:\n    description: Vers\xe3o desejada\n    required: false\n    default: 'latest'\nruns:\n  using: node20\n  main: dist/index.js\n"})}),"\n",(0,a.jsx)(n.h3,{id:"outputs-exemplo-conceitual",children:"Outputs (Exemplo Conceitual)"}),"\n",(0,a.jsxs)(n.p,{children:["Action define sa\xedda no JavaScript usando ",(0,a.jsx)(n.code,{children:"core.setOutput('artifact-path', caminho)"}),". No workflow:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'- name: Usar action\n  id: setup\n  uses: org/setup-ferramenta@v1\n  with:\n    version: 2.1.0\n- name: Consumir output\n  run: echo "Path: ${{ steps.setup.outputs.artifact-path }}"\n'})}),"\n",(0,a.jsx)(n.h3,{id:"publica\xe7\xe3o-e-reuso-interno",children:"Publica\xe7\xe3o e Reuso Interno"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Publicar: reposit\xf3rio dedicado ou monorepo com diret\xf3rio claro."}),"\n",(0,a.jsxs)(n.li,{children:["Taggear vers\xf5es (",(0,a.jsx)(n.code,{children:"git tag v1.2.0 && git push origin v1.2.0"}),")."]}),"\n",(0,a.jsx)(n.li,{children:"Manter changelog para facilitar upgrades."}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"exemplo-pr\xe1tico",children:"Exemplo Pr\xe1tico"}),"\n",(0,a.jsx)(n.p,{children:"Workflow combinando actions do Marketplace e composite interna:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"name: Exemplo Actions\non: [push]\n\njobs:\n  build:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      - name: Node\n        uses: actions/setup-node@v4\n        with:\n          node-version: 20\n      - name: Instalar\n        run: npm ci\n      - name: Testar\n        run: npm test -- --ci\n      - name: Qualidade Interna\n        uses: ./.github/actions/qualidade  # composite local\n        with:\n          cobertura-minima: '80'\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Composite interna (",(0,a.jsx)(n.code,{children:".github/actions/qualidade/action.yml"}),"):"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"name: Qualidade\nruns:\n  using: composite\n  steps:\n    - run: npm run lint\n    - run: npm run coverage:check -- --min=${{ inputs.cobertura-minima }}\ninputs:\n  cobertura-minima:\n    required: true\n"})}),"\n",(0,a.jsx)(n.h2,{id:"conclus\xe3o",children:"Conclus\xe3o"}),"\n",(0,a.jsx)(n.p,{children:"Actions elevam abstra\xe7\xe3o dos workflows: encapsulam tarefas em unidades versionadas, promovem reuso, seguran\xe7a e padroniza\xe7\xe3o. Escolher tipo adequado (JavaScript, Docker, Composite), versionar de forma previs\xedvel e aplicar princ\xedpios de menor privil\xe9gio reduz riscos e custo de manuten\xe7\xe3o. Criar actions apenas quando agrega valor al\xe9m de simples agrupamento mant\xe9m o ecossistema enxuto e escal\xe1vel. Pr\xf3ximo passo natural: aprofundar em cria\xe7\xe3o de composite pr\xf3pria ou controle de permiss\xf5es e caching estrat\xe9gico."})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>t});var o=i(6540);const a={},s=o.createContext(a);function r(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);