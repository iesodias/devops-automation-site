"use strict";(self.webpackChunkdevops_automation_site=self.webpackChunkdevops_automation_site||[]).push([[9040],{7805:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>d,contentTitle:()=>t,default:()=>u,frontMatter:()=>s,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"98-projeto-final","title":"Projeto Final Terraform","description":"Introdu\xe7\xe3o","source":"@site/curso-terraform-udemy/98-teorico-projeto-final.md","sourceDirName":".","slug":"/98-projeto-final","permalink":"/udemy/terraform-automacao/98-projeto-final","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":98,"frontMatter":{"id":"98-projeto-final","title":"Projeto Final Terraform","noindex":true},"sidebar":"tutorialSidebar","previous":{"title":"Lab 25 - Criando um Resource Group no Azure com Terraform Cloud (Execu\xe7\xe3o Local)","permalink":"/udemy/terraform-automacao/25-lab-sentinel-tfc"},"next":{"title":"Projeto Final Terraform - Azure VM Infrastructure","permalink":"/udemy/terraform-automacao/99-projeto-final"}}');var i=n(4848),r=n(8453);const s={id:"98-projeto-final",title:"Projeto Final Terraform",noindex:!0},t="Lab: Criando Infraestrutura Completa de VMs no Azure com Terraform",d={},l=[{value:"Introdu\xe7\xe3o",id:"introdu\xe7\xe3o",level:2},{value:"O que voc\xea vai aprender",id:"o-que-voc\xea-vai-aprender",level:2},{value:"Pr\xe9-requisitos",id:"pr\xe9-requisitos",level:2},{value:"Arquitetura da Solu\xe7\xe3o",id:"arquitetura-da-solu\xe7\xe3o",level:2},{value:"Camada de Rede",id:"camada-de-rede",level:3},{value:"Camada de Computa\xe7\xe3o",id:"camada-de-computa\xe7\xe3o",level:3},{value:"Camada de Storage",id:"camada-de-storage",level:3},{value:"Camada de Seguran\xe7a",id:"camada-de-seguran\xe7a",level:3},{value:"Camada de Monitoramento (Opcional)",id:"camada-de-monitoramento-opcional",level:3},{value:"Estrutura do Projeto",id:"estrutura-do-projeto",level:2},{value:"Conceitos Terraform Demonstrados",id:"conceitos-terraform-demonstrados",level:2},{value:"Fundamentos Avan\xe7ados",id:"fundamentos-avan\xe7ados",level:3},{value:"Providers e Integra\xe7\xe3o",id:"providers-e-integra\xe7\xe3o",level:3},{value:"Organiza\xe7\xe3o e Boas Pr\xe1ticas",id:"organiza\xe7\xe3o-e-boas-pr\xe1ticas",level:3},{value:"Ambientes e Configura\xe7\xf5es",id:"ambientes-e-configura\xe7\xf5es",level:2},{value:"Ambiente de Desenvolvimento",id:"ambiente-de-desenvolvimento",level:3},{value:"Ambiente de Produ\xe7\xe3o",id:"ambiente-de-produ\xe7\xe3o",level:3},{value:"Gest\xe3o de Custos",id:"gest\xe3o-de-custos",level:2},{value:"Funcionalidades Avan\xe7adas",id:"funcionalidades-avan\xe7adas",level:2},{value:"Estimativa de Investimento",id:"estimativa-de-investimento",level:2},{value:"Ambiente de Desenvolvimento",id:"ambiente-de-desenvolvimento-1",level:3},{value:"Ambiente de Produ\xe7\xe3o",id:"ambiente-de-produ\xe7\xe3o-1",level:3},{value:"Valor Profissional",id:"valor-profissional",level:2},{value:"Pr\xf3ximos Passos",id:"pr\xf3ximos-passos",level:2}];function c(e){const a={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.header,{children:(0,i.jsx)(a.h1,{id:"lab-criando-infraestrutura-completa-de-vms-no-azure-com-terraform",children:"Lab: Criando Infraestrutura Completa de VMs no Azure com Terraform"})}),"\n",(0,i.jsx)(a.h2,{id:"introdu\xe7\xe3o",children:"Introdu\xe7\xe3o"}),"\n",(0,i.jsx)(a.p,{children:"Neste lab avan\xe7ado, vamos construir uma infraestrutura empresarial completa no Microsoft Azure utilizando Terraform. Este projeto representa o culminar de todos os conceitos aprendidos durante o curso, demonstrando como criar uma solu\xe7\xe3o de produ\xe7\xe3o real com todas as camadas necess\xe1rias: computa\xe7\xe3o, rede, seguran\xe7a, storage, monitoramento e backup."}),"\n",(0,i.jsx)(a.p,{children:"O lab simula um cen\xe1rio empresarial onde precisamos provisionar ambientes para uma aplica\xe7\xe3o web, com configura\xe7\xf5es diferentes para desenvolvimento e produ\xe7\xe3o, aplicando boas pr\xe1ticas de Infrastructure as Code (IaC) e gest\xe3o de custos."}),"\n",(0,i.jsx)(a.h2,{id:"o-que-voc\xea-vai-aprender",children:"O que voc\xea vai aprender"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"Como estruturar um projeto Terraform complexo e escal\xe1vel"}),"\n",(0,i.jsx)(a.li,{children:"Utiliza\xe7\xe3o avan\xe7ada de variables, locals e outputs para c\xf3digo reutiliz\xe1vel"}),"\n",(0,i.jsx)(a.li,{children:"Implementa\xe7\xe3o de m\xfaltiplos providers (azurerm, random, tls, time)"}),"\n",(0,i.jsx)(a.li,{children:"Cria\xe7\xe3o de recursos condicionais baseados no ambiente"}),"\n",(0,i.jsx)(a.li,{children:"Aplica\xe7\xe3o de naming conventions e tags organizacionais"}),"\n",(0,i.jsx)(a.li,{children:"Gest\xe3o inteligente de custos com auto-shutdown e sizing por ambiente"}),"\n",(0,i.jsx)(a.li,{children:"Implementa\xe7\xe3o de seguran\xe7a com Key Vault e SSH keys automatizadas"}),"\n",(0,i.jsx)(a.li,{children:"Configura\xe7\xe3o de backup e monitoramento condicionais"}),"\n"]}),"\n",(0,i.jsx)(a.h2,{id:"pr\xe9-requisitos",children:"Pr\xe9-requisitos"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"Terraform instalado (vers\xe3o >= 1.5.0)"}),"\n",(0,i.jsx)(a.li,{children:"Conta Azure com permiss\xf5es de Contributor"}),"\n",(0,i.jsx)(a.li,{children:"Azure CLI instalada e autenticada"}),"\n",(0,i.jsx)(a.li,{children:"Conhecimento dos conceitos b\xe1sicos de Terraform"}),"\n",(0,i.jsx)(a.li,{children:"Familiaridade com Azure (VMs, networking, storage)"}),"\n"]}),"\n",(0,i.jsx)(a.h2,{id:"arquitetura-da-solu\xe7\xe3o",children:"Arquitetura da Solu\xe7\xe3o"}),"\n",(0,i.jsx)(a.p,{children:"Nossa infraestrutura ser\xe1 composta por m\xfaltiplas camadas integradas:"}),"\n",(0,i.jsx)(a.h3,{id:"camada-de-rede",children:"Camada de Rede"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"Virtual Network com segmenta\xe7\xe3o em subnets"}),"\n",(0,i.jsx)(a.li,{children:"Network Security Groups com regras de firewall espec\xedficas"}),"\n",(0,i.jsx)(a.li,{children:"Public IPs para acesso externo controlado"}),"\n",(0,i.jsx)(a.li,{children:"Application Security Groups para micro-segmenta\xe7\xe3o"}),"\n",(0,i.jsx)(a.li,{children:"Private DNS Zone para resolu\xe7\xe3o interna"}),"\n"]}),"\n",(0,i.jsx)(a.h3,{id:"camada-de-computa\xe7\xe3o",children:"Camada de Computa\xe7\xe3o"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"Virtual Machines Linux com Ubuntu 20.04 LTS"}),"\n",(0,i.jsx)(a.li,{children:"Configura\xe7\xe3o flex\xedvel de quantidade e tamanho por ambiente"}),"\n",(0,i.jsx)(a.li,{children:"Auto-shutdown programado para economia de custos"}),"\n",(0,i.jsx)(a.li,{children:"SSH keys geradas e gerenciadas automaticamente"}),"\n"]}),"\n",(0,i.jsx)(a.h3,{id:"camada-de-storage",children:"Camada de Storage"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"Managed Disks com diferentes tiers por ambiente"}),"\n",(0,i.jsx)(a.li,{children:"Storage Account para boot diagnostics"}),"\n",(0,i.jsx)(a.li,{children:"Backup autom\xe1tico configur\xe1vel"}),"\n"]}),"\n",(0,i.jsx)(a.h3,{id:"camada-de-seguran\xe7a",children:"Camada de Seguran\xe7a"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"Azure Key Vault para gerenciamento de secrets"}),"\n",(0,i.jsx)(a.li,{children:"Network Security Groups com regras restritivas"}),"\n",(0,i.jsx)(a.li,{children:"SSH keys criptografadas e rotacion\xe1veis"}),"\n",(0,i.jsx)(a.li,{children:"Tags para governan\xe7a e compliance"}),"\n"]}),"\n",(0,i.jsx)(a.h3,{id:"camada-de-monitoramento-opcional",children:"Camada de Monitoramento (Opcional)"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"Log Analytics Workspace para centraliza\xe7\xe3o de logs"}),"\n",(0,i.jsx)(a.li,{children:"Azure Monitor com alertas proativos"}),"\n",(0,i.jsx)(a.li,{children:"VM Extensions para coleta de m\xe9tricas"}),"\n"]}),"\n",(0,i.jsx)(a.h2,{id:"estrutura-do-projeto",children:"Estrutura do Projeto"}),"\n",(0,i.jsx)(a.p,{children:"O projeto seguir\xe1 uma estrutura organizacional profissional:"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{children:"azure-terraform-vm-project/\n\u251c\u2500\u2500 main.tf                    # Recursos principais da infraestrutura\n\u251c\u2500\u2500 variables.tf               # Defini\xe7\xf5es de vari\xe1veis com valida\xe7\xe3o\n\u251c\u2500\u2500 locals.tf                  # L\xf3gica complexa e naming conventions\n\u251c\u2500\u2500 outputs.tf                 # Informa\xe7\xf5es de sa\xedda estruturadas\n\u251c\u2500\u2500 versions.tf                # Configura\xe7\xe3o de providers e vers\xf5es\n\u251c\u2500\u2500 additional-resources.tf    # Recursos avan\xe7ados e opcionais\n\u251c\u2500\u2500 terraform.tfvars           # Valores padr\xe3o das vari\xe1veis\n\u251c\u2500\u2500 dev.tfvars                # Configura\xe7\xe3o para desenvolvimento\n\u251c\u2500\u2500 prod.tfvars               # Configura\xe7\xe3o para produ\xe7\xe3o\n\u251c\u2500\u2500 README.md                 # Documenta\xe7\xe3o do projeto\n\u2514\u2500\u2500 .gitignore               # Arquivos a serem ignorados pelo Git\n"})}),"\n",(0,i.jsx)(a.h2,{id:"conceitos-terraform-demonstrados",children:"Conceitos Terraform Demonstrados"}),"\n",(0,i.jsx)(a.h3,{id:"fundamentos-avan\xe7ados",children:"Fundamentos Avan\xe7ados"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"Variables com tipos complexos (objects, lists) e valida\xe7\xf5es customizadas"}),"\n",(0,i.jsx)(a.li,{children:"Locals com l\xf3gica condicional e c\xe1lculos din\xe2micos"}),"\n",(0,i.jsx)(a.li,{children:"Outputs estruturados retornando informa\xe7\xf5es \xfateis"}),"\n",(0,i.jsx)(a.li,{children:"Count e for_each para cria\xe7\xe3o de m\xfaltiplos recursos"}),"\n",(0,i.jsx)(a.li,{children:"Dynamic blocks para configura\xe7\xf5es condicionais"}),"\n"]}),"\n",(0,i.jsx)(a.h3,{id:"providers-e-integra\xe7\xe3o",children:"Providers e Integra\xe7\xe3o"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"M\xfaltiplos providers trabalhando em conjunto"}),"\n",(0,i.jsx)(a.li,{children:"Data sources para consultar informa\xe7\xf5es existentes"}),"\n",(0,i.jsx)(a.li,{children:"Resource dependencies impl\xedcitas e expl\xedcitas"}),"\n",(0,i.jsx)(a.li,{children:"Lifecycle rules para prote\xe7\xe3o de recursos cr\xedticos"}),"\n"]}),"\n",(0,i.jsx)(a.h3,{id:"organiza\xe7\xe3o-e-boas-pr\xe1ticas",children:"Organiza\xe7\xe3o e Boas Pr\xe1ticas"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"Separa\xe7\xe3o de ambientes com arquivos .tfvars espec\xedficos"}),"\n",(0,i.jsx)(a.li,{children:"Naming conventions automatizadas e consistentes"}),"\n",(0,i.jsx)(a.li,{children:"Tagging strategy para organiza\xe7\xe3o e billing"}),"\n",(0,i.jsx)(a.li,{children:"Estrutura de c\xf3digo modular e reutiliz\xe1vel"}),"\n"]}),"\n",(0,i.jsx)(a.h2,{id:"ambientes-e-configura\xe7\xf5es",children:"Ambientes e Configura\xe7\xf5es"}),"\n",(0,i.jsx)(a.h3,{id:"ambiente-de-desenvolvimento",children:"Ambiente de Desenvolvimento"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"VMs menores e econ\xf4micas (Standard_B1s)"}),"\n",(0,i.jsx)(a.li,{children:"Discos Standard para redu\xe7\xe3o de custos"}),"\n",(0,i.jsx)(a.li,{children:"Auto-shutdown \xe0s 18h para economia"}),"\n",(0,i.jsx)(a.li,{children:"Backup desabilitado (dados n\xe3o cr\xedticos)"}),"\n",(0,i.jsx)(a.li,{children:"Monitoramento b\xe1sico"}),"\n"]}),"\n",(0,i.jsx)(a.h3,{id:"ambiente-de-produ\xe7\xe3o",children:"Ambiente de Produ\xe7\xe3o"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"VMs robustas com alta disponibilidade (Standard_D2s_v3)"}),"\n",(0,i.jsx)(a.li,{children:"M\xfaltiplas inst\xe2ncias com Load Balancer"}),"\n",(0,i.jsx)(a.li,{children:"Discos Premium para performance"}),"\n",(0,i.jsx)(a.li,{children:"Backup habilitado com reten\xe7\xe3o de 90 dias"}),"\n",(0,i.jsx)(a.li,{children:"Monitoramento completo com alertas"}),"\n",(0,i.jsx)(a.li,{children:"Sem auto-shutdown (disponibilidade 24/7)"}),"\n"]}),"\n",(0,i.jsx)(a.h2,{id:"gest\xe3o-de-custos",children:"Gest\xe3o de Custos"}),"\n",(0,i.jsx)(a.p,{children:"O projeto implementa v\xe1rias estrat\xe9gias de otimiza\xe7\xe3o de custos:"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.strong,{children:"Auto-shutdown"}),": VMs se desligam automaticamente fora do hor\xe1rio comercial"]}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.strong,{children:"Sizing inteligente"}),": Recursos dimensionados apropriadamente por ambiente"]}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.strong,{children:"Storage optimization"}),": Tipos de disco adequados ao uso (Standard vs Premium)"]}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.strong,{children:"Recursos condicionais"}),": Backup e monitoring apenas quando necess\xe1rio"]}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.strong,{children:"Tags para billing"}),": Facilita an\xe1lise de custos por projeto/departamento"]}),"\n"]}),"\n",(0,i.jsx)(a.h2,{id:"funcionalidades-avan\xe7adas",children:"Funcionalidades Avan\xe7adas"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.strong,{children:"Gera\xe7\xe3o autom\xe1tica de SSH keys"}),": Terraform cria e gerencia as chaves"]}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.strong,{children:"Key Vault integration"}),": Secrets armazenados de forma segura"]}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.strong,{children:"Conditional resources"}),": Recursos criados baseados em vari\xe1veis"]}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.strong,{children:"Multi-environment"}),": Mesmo c\xf3digo, configura\xe7\xf5es diferentes"]}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.strong,{children:"Naming automation"}),": Nomes padronizados e \xfanicos automaticamente"]}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.strong,{children:"Tag inheritance"}),": Tags aplicadas consistentemente em todos os recursos"]}),"\n"]}),"\n",(0,i.jsx)(a.h2,{id:"estimativa-de-investimento",children:"Estimativa de Investimento"}),"\n",(0,i.jsx)(a.h3,{id:"ambiente-de-desenvolvimento-1",children:"Ambiente de Desenvolvimento"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"Custo mensal: ~$8-15 USD (com auto-shutdown)"}),"\n",(0,i.jsx)(a.li,{children:"Ideal para testes e aprendizado"}),"\n"]}),"\n",(0,i.jsx)(a.h3,{id:"ambiente-de-produ\xe7\xe3o-1",children:"Ambiente de Produ\xe7\xe3o"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"Custo mensal: ~$390-515 USD (3 VMs com todos os recursos)"}),"\n",(0,i.jsx)(a.li,{children:"Solu\xe7\xe3o empresarial completa"}),"\n"]}),"\n",(0,i.jsx)(a.h2,{id:"valor-profissional",children:"Valor Profissional"}),"\n",(0,i.jsx)(a.p,{children:"Este lab demonstra compet\xeancias essenciais para:"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.strong,{children:"Cloud Engineers"}),": Arquitetura e implementa\xe7\xe3o Azure"]}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.strong,{children:"DevOps Engineers"}),": Infrastructure as Code avan\xe7ado"]}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.strong,{children:"SRE"}),": Automa\xe7\xe3o, monitoramento e gest\xe3o de custos"]}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.strong,{children:"Arquitetos de Solu\xe7\xf5es"}),": Design de infraestrutura escal\xe1vel"]}),"\n"]}),"\n",(0,i.jsx)(a.p,{children:"O projeto representa exatamente o tipo de solu\xe7\xe3o que empresas implementam em produ\xe7\xe3o, mostrando dom\xednio profissional de Terraform e boas pr\xe1ticas de cloud computing."}),"\n",(0,i.jsx)(a.h2,{id:"pr\xf3ximos-passos",children:"Pr\xf3ximos Passos"}),"\n",(0,i.jsx)(a.p,{children:"Ap\xf3s completar este lab, voc\xea estar\xe1 preparado para:"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"Implementar solu\xe7\xf5es Terraform em ambiente corporativo"}),"\n",(0,i.jsx)(a.li,{children:"Gerenciar infraestrutura multi-ambiente de forma eficiente"}),"\n",(0,i.jsx)(a.li,{children:"Aplicar boas pr\xe1ticas de seguran\xe7a e governan\xe7a em cloud"}),"\n",(0,i.jsx)(a.li,{children:"Otimizar custos mantendo performance e disponibilidade"}),"\n",(0,i.jsx)(a.li,{children:"Evoluir a solu\xe7\xe3o para arquiteturas mais complexas (microservices, containers, etc.)"}),"\n"]}),"\n",(0,i.jsx)(a.p,{children:"Este \xe9 o projeto que demonstrar\xe1 sua compet\xeancia t\xe9cnica em entrevistas e projetos reais!"})]})}function u(e={}){const{wrapper:a}={...(0,r.R)(),...e.components};return a?(0,i.jsx)(a,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,a,n)=>{n.d(a,{R:()=>s,x:()=>t});var o=n(6540);const i={},r=o.createContext(i);function s(e){const a=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function t(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),o.createElement(r.Provider,{value:a},e.children)}}}]);