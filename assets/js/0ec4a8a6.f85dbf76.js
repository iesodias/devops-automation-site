"use strict";(self.webpackChunkdevops_automation_site=self.webpackChunkdevops_automation_site||[]).push([[8317],{1508:(e,r,a)=>{a.r(r),a.d(r,{assets:()=>l,contentTitle:()=>c,default:()=>d,frontMatter:()=>i,metadata:()=>o,toc:()=>t});var o=a(5965),s=a(4848),n=a(8453);const i={title:"Checkov: O Scanner de Seguran\xe7a que Todo Profissional de IaC Deveria Usar",description:"Entenda como o Checkov pode proteger sua infraestrutura como c\xf3digo. Veja exemplos reais de erros cr\xedticos, integra\xe7\xf5es com CI/CD e como us\xe1-lo com Terraform, Kubernetes e mais.",authors:["Ieso"],tags:["checkov terraform azure","scanner seguran\xe7a infraestrutura","ferramenta seguran\xe7a devops","checkov github actions","analise estatica terraform","checkov kubernetes aws azure","seguran\xe7a infraestrutura como c\xf3digo"],date:new Date("2025-05-06T00:00:00.000Z")},c=void 0,l={authorsImageUrls:[void 0]},t=[{value:"Checkov: O Scanner de Seguran\xe7a que Todo Profissional de IaC Deveria Usar",id:"checkov-o-scanner-de-seguran\xe7a-que-todo-profissional-de-iac-deveria-usar",level:2},{value:"\u2705 O que voc\xea vai ver neste artigo:",id:"-o-que-voc\xea-vai-ver-neste-artigo",level:3},{value:"Por que o Checkov \xe9 Essencial para IaC",id:"por-que-o-checkov-\xe9-essencial-para-iac",level:2},{value:"1. O Problema: Configura\xe7\xf5es Inseguras na Nuvem",id:"1-o-problema-configura\xe7\xf5es-inseguras-na-nuvem",level:3},{value:"2. A Solu\xe7\xe3o: Checkov",id:"2-a-solu\xe7\xe3o-checkov",level:3},{value:"Como o Checkov Funciona",id:"como-o-checkov-funciona",level:2},{value:"Exemplo de sa\xedda:",id:"exemplo-de-sa\xedda",level:3},{value:"\ud83d\uded1 5 Erros Cr\xedticos que o Checkov Detecta",id:"-5-erros-cr\xedticos-que-o-checkov-detecta",level:2},{value:"1. Storage Account P\xfablica no Azure",id:"1-storage-account-p\xfablica-no-azure",level:3},{value:"2. Bucket S3 sem Criptografia",id:"2-bucket-s3-sem-criptografia",level:3},{value:"3. Kubernetes sem resource limits",id:"3-kubernetes-sem-resource-limits",level:3},{value:"4. Azure SQL sem firewall",id:"4-azure-sql-sem-firewall",level:3},{value:"5. IAM Overprivileged",id:"5-iam-overprivileged",level:3},{value:"Como Usar o Checkov no Seu Projeto",id:"como-usar-o-checkov-no-seu-projeto",level:2},{value:"1. Instala\xe7\xe3o",id:"1-instala\xe7\xe3o",level:3},{value:"2. Rodando localmente",id:"2-rodando-localmente",level:3},{value:"3. Integra\xe7\xe3o com GitHub Actions",id:"3-integra\xe7\xe3o-com-github-actions",level:3},{value:"\u2705 Conclus\xe3o: Vale a Pena Usar?",id:"-conclus\xe3o-vale-a-pena-usar",level:2},{value:"Pr\xf3s:",id:"pr\xf3s",level:3},{value:"Contras:",id:"contras",level:3},{value:"\ud83d\udcac Compartilhe",id:"-compartilhe",level:2},{value:"Refer\xeancias",id:"refer\xeancias",level:2}];function u(e){const r={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,n.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.h2,{id:"checkov-o-scanner-de-seguran\xe7a-que-todo-profissional-de-iac-deveria-usar",children:"Checkov: O Scanner de Seguran\xe7a que Todo Profissional de IaC Deveria Usar"}),"\n",(0,s.jsx)(r.p,{children:"Se voc\xea trabalha com Infraestrutura como C\xf3digo (IaC) \u2013 seja Terraform, CloudFormation, Kubernetes ou ARM Templates \u2013, j\xe1 deve ter se perguntado:"}),"\n",(0,s.jsxs)(r.blockquote,{children:["\n",(0,s.jsx)(r.p,{children:'"Ser\xe1 que essa configura\xe7\xe3o est\xe1 realmente segura?"'}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:["O ",(0,s.jsx)(r.strong,{children:"Checkov"})," \xe9 um scanner de seguran\xe7a open-source criado pela Bridgecrew (parte da Palo Alto Networks) que analisa automaticamente seu c\xf3digo IaC em busca de vulnerabilidades antes do deploy."]}),"\n",(0,s.jsxs)(r.p,{children:["Com mais de ",(0,s.jsx)(r.strong,{children:"80 milh\xf5es de downloads"}),", o Checkov \xe9 usado por empresas como AWS, Google e Microsoft para proteger infraestruturas na nuvem."]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h3,{id:"-o-que-voc\xea-vai-ver-neste-artigo",children:"\u2705 O que voc\xea vai ver neste artigo:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"O que \xe9 o Checkov e como ele funciona"}),"\n",(0,s.jsx)(r.li,{children:"Os 5 erros mais cr\xedticos que ele ajuda a evitar"}),"\n",(0,s.jsx)(r.li,{children:"Como integrar com CI/CD para seguran\xe7a cont\xednua"}),"\n",(0,s.jsx)(r.li,{children:"Exemplo pr\xe1tico com Terraform + Azure"}),"\n"]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"por-que-o-checkov-\xe9-essencial-para-iac",children:"Por que o Checkov \xe9 Essencial para IaC"}),"\n",(0,s.jsx)(r.h3,{id:"1-o-problema-configura\xe7\xf5es-inseguras-na-nuvem",children:"1. O Problema: Configura\xe7\xf5es Inseguras na Nuvem"}),"\n",(0,s.jsxs)(r.p,{children:["Segundo o ",(0,s.jsx)(r.a,{href:"https://www.paloaltonetworks.com/resources/research/state-of-cloud-native-security",children:"Relat\xf3rio de Amea\xe7as na Nuvem 2023 da Palo Alto Networks"}),", ",(0,s.jsx)(r.strong,{children:"76% das organiza\xe7\xf5es"})," j\xe1 sofreram incidentes por erro de configura\xe7\xe3o."]}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Exemplos comuns:"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Buckets S3 p\xfablicos (vazamento de dados)"}),"\n",(0,s.jsx)(r.li,{children:"Storage Accounts no Azure sem restri\xe7\xe3o de rede"}),"\n",(0,s.jsx)(r.li,{children:"Kubernetes com permiss\xf5es amplas demais"}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:["O pior: muitos problemas s\xf3 s\xe3o descobertos ",(0,s.jsx)(r.strong,{children:"ap\xf3s o ataque"}),"."]}),"\n",(0,s.jsx)(r.h3,{id:"2-a-solu\xe7\xe3o-checkov",children:"2. A Solu\xe7\xe3o: Checkov"}),"\n",(0,s.jsx)(r.p,{children:"O Checkov \xe9 um scanner SAST (Static Application Security Testing) que:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"\ud83d\udd0d Analisa seu c\xf3digo IaC (.tf, .yaml, .json)"}),"\n",(0,s.jsx)(r.li,{children:"\ud83d\udea8 Detecta vulnerabilidades e viola\xe7\xf5es de compliance"}),"\n",(0,s.jsx)(r.li,{children:"\ud83d\udd27 Sugere corre\xe7\xf5es e boas pr\xe1ticas"}),"\n",(0,s.jsx)(r.li,{children:"\ud83d\udd04 Integra com GitHub Actions, GitLab CI, Azure DevOps, CircleCI"}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:["Baseado em mais de ",(0,s.jsx)(r.strong,{children:"1.000 regras"})," derivadas de:"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"CIS Benchmarks"}),"\n",(0,s.jsx)(r.li,{children:"AWS/Azure/GCP Security Best Practices"}),"\n",(0,s.jsx)(r.li,{children:"GDPR, HIPAA, SOC 2"}),"\n"]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"como-o-checkov-funciona",children:"Como o Checkov Funciona"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"An\xe1lise do C\xf3digo"}),": escaneia arquivos Terraform, Kubernetes, etc."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Compara\xe7\xe3o com Regras"}),": verifica se configura\xe7\xf5es violam boas pr\xe1ticas."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Gera\xe7\xe3o de Relat\xf3rio"}),": mostra o erro, linha afetada e sugest\xe3o de corre\xe7\xe3o."]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"exemplo-de-sa\xedda",children:"Exemplo de sa\xedda:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:'Check: CKV_AZURE_59: "Ensure that Storage accounts disallow public access"\nFAILED for resource: azurerm_storage_account.example\nFile: /main.tf:25-30\nGuide: https://docs.bridgecrew.io/docs/ensure-that-storage-accounts-disallow-public-access\n'})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"-5-erros-cr\xedticos-que-o-checkov-detecta",children:"\ud83d\uded1 5 Erros Cr\xedticos que o Checkov Detecta"}),"\n",(0,s.jsx)(r.h3,{id:"1-storage-account-p\xfablica-no-azure",children:"1. Storage Account P\xfablica no Azure"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-hcl",children:'resource "azurerm_storage_account" "inseguro" {\n  name                     = "stexemplo"\n  resource_group_name      = azurerm_resource_group.exemplo.name\n  location                 = "eastus"\n  account_tier             = "Standard"\n  account_replication_type = "LRS"\n}\n'})}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Corre\xe7\xe3o sugerida:"})}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-hcl",children:'network_rules {\n  default_action = "Deny"\n  ip_rules       = ["SEU_IP"]\n}\n'})}),"\n",(0,s.jsx)(r.h3,{id:"2-bucket-s3-sem-criptografia",children:"2. Bucket S3 sem Criptografia"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-hcl",children:'resource "aws_s3_bucket" "exemplo" {\n  bucket = "meu-bucket-inseguro"\n}\n'})}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Corre\xe7\xe3o:"})}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-hcl",children:'resource "aws_s3_bucket_server_side_encryption_configuration" "exemplo" {\n  bucket = aws_s3_bucket.exemplo.id\n  rule {\n    apply_server_side_encryption_by_default {\n      sse_algorithm = "AES256"\n    }\n  }\n}\n'})}),"\n",(0,s.jsx)(r.h3,{id:"3-kubernetes-sem-resource-limits",children:"3. Kubernetes sem resource limits"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-yaml",children:'resources:\n  limits:\n    cpu: "500m"\n    memory: "512Mi"\n'})}),"\n",(0,s.jsx)(r.h3,{id:"4-azure-sql-sem-firewall",children:"4. Azure SQL sem firewall"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-hcl",children:'resource "azurerm_sql_server" "example" {\n  public_network_access_enabled = true\n}\n'})}),"\n",(0,s.jsx)(r.h3,{id:"5-iam-overprivileged",children:"5. IAM Overprivileged"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-hcl",children:'resource "aws_iam_policy" "admin" {\n  policy = jsonencode({\n    "Effect": "Allow",\n    "Action": "*",\n    "Resource": "*"\n  })\n}\n'})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"como-usar-o-checkov-no-seu-projeto",children:"Como Usar o Checkov no Seu Projeto"}),"\n",(0,s.jsx)(r.h3,{id:"1-instala\xe7\xe3o",children:"1. Instala\xe7\xe3o"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"pip install checkov\ncheckov --version\n"})}),"\n",(0,s.jsx)(r.h3,{id:"2-rodando-localmente",children:"2. Rodando localmente"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"checkov -d /seu/projeto/terraform\n"})}),"\n",(0,s.jsx)(r.h3,{id:"3-integra\xe7\xe3o-com-github-actions",children:"3. Integra\xe7\xe3o com GitHub Actions"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-yaml",children:"- name: Run Checkov\n  uses: bridgecrewio/checkov-action@v1\n  with:\n    directory: .\n    fail_on: HIGH\n"})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"-conclus\xe3o-vale-a-pena-usar",children:"\u2705 Conclus\xe3o: Vale a Pena Usar?"}),"\n",(0,s.jsx)(r.p,{children:"O Checkov \xe9 uma das ferramentas mais poderosas para quem leva seguran\xe7a em IaC a s\xe9rio."}),"\n",(0,s.jsx)(r.h3,{id:"pr\xf3s",children:"Pr\xf3s:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Open-source e gratuito"}),"\n",(0,s.jsx)(r.li,{children:"Suporte a m\xfaltiplas clouds"}),"\n",(0,s.jsx)(r.li,{children:"R\xe1pido e f\xe1cil de usar"}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"contras",children:"Contras:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Pode gerar alguns false positives (resolvido com ",(0,s.jsx)(r.code,{children:".checkov.yaml"}),")"]}),"\n",(0,s.jsx)(r.li,{children:"Integra\xe7\xe3o manual em pipelines mais complexos"}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"\ud83d\udcf9 Quer ver na pr\xe1tica? Veja o v\xeddeo completo com lab Terraform + Azure:\n[\u25b6\ufe0f Assistir Tutorial no YouTube]"}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"-compartilhe",children:"\ud83d\udcac Compartilhe"}),"\n",(0,s.jsx)(r.p,{children:"J\xe1 usou o Checkov? Qual foi o pior erro que ele j\xe1 te ajudou a evitar?\nComenta aqui embaixo e compartilha com a galera do time!"}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"refer\xeancias",children:"Refer\xeancias"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://www.checkov.io",children:"Site Oficial do Checkov"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://github.com/bridgecrewio/checkov",children:"Reposit\xf3rio no GitHub"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://www.paloaltonetworks.com/resources/research",children:"Palo Alto Networks Cloud Threat Report"})}),"\n"]})]})}function d(e={}){const{wrapper:r}={...(0,n.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},5965:e=>{e.exports=JSON.parse('{"permalink":"/blog/2025/05/06/checkov","editUrl":"https://github.com/iesodias/devops-automation-site/tree/main/blog/2025-05-06-checkov.md","source":"@site/blog/2025-05-06-checkov.md","title":"Checkov: O Scanner de Seguran\xe7a que Todo Profissional de IaC Deveria Usar","description":"Entenda como o Checkov pode proteger sua infraestrutura como c\xf3digo. Veja exemplos reais de erros cr\xedticos, integra\xe7\xf5es com CI/CD e como us\xe1-lo com Terraform, Kubernetes e mais.","date":"2025-05-06T00:00:00.000Z","tags":[{"inline":true,"label":"checkov terraform azure","permalink":"/blog/tags/checkov-terraform-azure"},{"inline":true,"label":"scanner seguran\xe7a infraestrutura","permalink":"/blog/tags/scanner-seguranca-infraestrutura"},{"inline":true,"label":"ferramenta seguran\xe7a devops","permalink":"/blog/tags/ferramenta-seguranca-devops"},{"inline":true,"label":"checkov github actions","permalink":"/blog/tags/checkov-github-actions"},{"inline":true,"label":"analise estatica terraform","permalink":"/blog/tags/analise-estatica-terraform"},{"inline":true,"label":"checkov kubernetes aws azure","permalink":"/blog/tags/checkov-kubernetes-aws-azure"},{"inline":true,"label":"seguran\xe7a infraestrutura como c\xf3digo","permalink":"/blog/tags/seguranca-infraestrutura-como-codigo"}],"readingTime":3.305,"hasTruncateMarker":false,"authors":[{"name":"I\xeaso Dias","title":"Instrutor DevOps & Cloud","url":"https://youtube.com/@iesodias","page":{"permalink":"/blog/authors/ieso"},"socials":{"x":"https://x.com/iesodias","github":"https://github.com/iesodias"},"imageURL":"/img/avatar.png","key":"Ieso"}],"frontMatter":{"title":"Checkov: O Scanner de Seguran\xe7a que Todo Profissional de IaC Deveria Usar","description":"Entenda como o Checkov pode proteger sua infraestrutura como c\xf3digo. Veja exemplos reais de erros cr\xedticos, integra\xe7\xf5es com CI/CD e como us\xe1-lo com Terraform, Kubernetes e mais.","authors":["Ieso"],"tags":["checkov terraform azure","scanner seguran\xe7a infraestrutura","ferramenta seguran\xe7a devops","checkov github actions","analise estatica terraform","checkov kubernetes aws azure","seguran\xe7a infraestrutura como c\xf3digo"],"date":"2025-05-06T00:00:00.000Z"},"unlisted":false,"nextItem":{"title":"Terraform em 2025: Como Dominar Infraestrutura como C\xf3digo e Impulsionar Seu Neg\xf3cio","permalink":"/blog/2025/04/26/terraform-iac"}}')},8453:(e,r,a)=>{a.d(r,{R:()=>i,x:()=>c});var o=a(6540);const s={},n=o.createContext(s);function i(e){const r=o.useContext(n);return o.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),o.createElement(n.Provider,{value:r},e.children)}}}]);