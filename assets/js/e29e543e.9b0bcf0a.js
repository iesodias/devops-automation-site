"use strict";(globalThis.webpackChunkdevops_automation_site=globalThis.webpackChunkdevops_automation_site||[]).push([[4659],{8453:(e,o,n)=>{n.d(o,{R:()=>t,x:()=>c});var s=n(6540);const i={},a=s.createContext(i);function t(e){const o=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function c(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),s.createElement(a.Provider,{value:o},e.children)}},8878:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>r,contentTitle:()=>c,default:()=>u,frontMatter:()=>t,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"modulo-04-avancado/dev-actions","title":"Desenvolvendo Actions","description":"Introdu\xe7\xe3o","source":"@site/curso-github-actions-udemy/modulo-04-avancado/08-desenvolvendo-actions.md","sourceDirName":"modulo-04-avancado","slug":"/modulo-04-avancado/dev-actions","permalink":"/udemy/github-actions-automacao/modulo-04-avancado/dev-actions","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"id":"dev-actions","title":"Desenvolvendo Actions"},"sidebar":"tutorialSidebar","previous":{"title":"Logs, Debug","permalink":"/udemy/github-actions-automacao/modulo-04-avancado/logs-debug"},"next":{"title":"Custos, Performance e Limites","permalink":"/udemy/github-actions-automacao/modulo-04-avancado/custo-performance"}}');var i=n(4848),a=n(8453);const t={id:"dev-actions",title:"Desenvolvendo Actions"},c="Desenvolvendo Actions (JS, Docker e A\xe7\xf5es Compostas)",r={},d=[{value:"Introdu\xe7\xe3o",id:"introdu\xe7\xe3o",level:2},{value:"Defini\xe7\xe3o",id:"defini\xe7\xe3o",level:2},{value:"Explica\xe7\xe3o T\xe9cnica",id:"explica\xe7\xe3o-t\xe9cnica",level:2},{value:"Exemplo",id:"exemplo",level:2},{value:"Conclus\xe3o",id:"conclus\xe3o",level:2}];function l(e){const o={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.header,{children:(0,i.jsx)(o.h1,{id:"desenvolvendo-actions-js-docker-e-a\xe7\xf5es-compostas",children:"Desenvolvendo Actions (JS, Docker e A\xe7\xf5es Compostas)"})}),"\n",(0,i.jsx)(o.h2,{id:"introdu\xe7\xe3o",children:"Introdu\xe7\xe3o"}),"\n",(0,i.jsx)(o.p,{children:"Criar suas pr\xf3prias actions permite padronizar fluxos e compartilhar l\xf3gica entre reposit\xf3rios. Nesta aula, apresentamos os tr\xeas tipos principais \u2014 JavaScript, Docker e Composite \u2014 e como definir metadados, inputs e outputs para publica\xe7\xe3o segura."}),"\n",(0,i.jsx)(o.h2,{id:"defini\xe7\xe3o",children:"Defini\xe7\xe3o"}),"\n",(0,i.jsxs)(o.p,{children:["Actions JavaScript executam c\xf3digo Node.js diretamente no executor, com inicializa\xe7\xe3o r\xe1pida. Actions Docker empacotam um cont\xeainer com depend\xeancias fixas, \xfateis quando o ambiente precisa ser controlado. A\xe7\xf5es compostas combinam etapas ",(0,i.jsx)(o.code,{children:"uses:"})," e ",(0,i.jsx)(o.code,{children:"run:"})," em YAML, sem imagem pr\xf3pria, ideais para orquestrar comandos e a\xe7\xf5es existentes."]}),"\n",(0,i.jsx)(o.p,{children:"Links oficiais:"}),"\n",(0,i.jsxs)(o.ul,{children:["\n",(0,i.jsxs)(o.li,{children:["Criando actions: ",(0,i.jsx)(o.a,{href:"https://docs.github.com/pt/actions/creating-actions",children:"https://docs.github.com/pt/actions/creating-actions"})]}),"\n",(0,i.jsxs)(o.li,{children:["Sintaxe de metadata: ",(0,i.jsx)(o.a,{href:"https://docs.github.com/pt/actions/creating-actions/metadata-syntax-for-github-actions",children:"https://docs.github.com/pt/actions/creating-actions/metadata-syntax-for-github-actions"})]}),"\n"]}),"\n",(0,i.jsx)(o.h2,{id:"explica\xe7\xe3o-t\xe9cnica",children:"Explica\xe7\xe3o T\xe9cnica"}),"\n",(0,i.jsxs)(o.p,{children:["Toda action possui um arquivo de metadata (",(0,i.jsx)(o.code,{children:"action.yml"})," ou ",(0,i.jsx)(o.code,{children:"action.yaml"}),") que declara ",(0,i.jsx)(o.code,{children:"name"}),", ",(0,i.jsx)(o.code,{children:"description"}),", ",(0,i.jsx)(o.code,{children:"inputs"}),", ",(0,i.jsx)(o.code,{children:"outputs"})," e ",(0,i.jsx)(o.code,{children:"runs"}),". Em JavaScript, ",(0,i.jsx)(o.code,{children:"runs: using: node20"})," aponta para o arquivo principal (por exemplo, ",(0,i.jsx)(o.code,{children:"dist/index.js"}),"). Em Docker, ",(0,i.jsx)(o.code,{children:"runs: using: docker"})," referencia a imagem (local ",(0,i.jsx)(o.code,{children:"Dockerfile"})," ou registry). Em action composta, ",(0,i.jsx)(o.code,{children:"runs: using: composite"})," lista etapas com ",(0,i.jsx)(o.code,{children:"shell"})," e ",(0,i.jsx)(o.code,{children:"run"}),", podendo usar outras actions."]}),"\n",(0,i.jsxs)(o.p,{children:["Inputs s\xe3o acessados via ",(0,i.jsx)(o.code,{children:"${{ inputs.<nome> }}"})," em composite e por APIs/utilit\xe1rios no caso de JS/Docker. Outputs s\xe3o emitidos escrevendo pares ",(0,i.jsx)(o.code,{children:"chave=valor"})," em ",(0,i.jsx)(o.code,{children:"GITHUB_OUTPUT"}),". Versione sua action com tags (",(0,i.jsx)(o.code,{children:"v1"}),", ",(0,i.jsx)(o.code,{children:"v1.2.0"}),") e prefira pinning por SHA em consumidores cr\xedticos. Forne\xe7a README com exemplos e tabela de inputs/outputs."]}),"\n",(0,i.jsx)(o.p,{children:"Boas pr\xe1ticas: inclua testes, lint e release automation; evite requerer privil\xe9gios elevados; minimize superf\xedcies de ataque (depend\xeancias e permiss\xf5es). Documente limites e erros comuns com mensagens claras."}),"\n",(0,i.jsx)(o.h2,{id:"exemplo",children:"Exemplo"}),"\n",(0,i.jsxs)(o.p,{children:["Exemplo de action composta m\xednima (",(0,i.jsx)(o.code,{children:"action.yml"}),") e seu uso em um workflow, mostrando input e output simples."]}),"\n",(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-yaml",children:'# action.yml (no reposit\xf3rio da action)\nname: "Echo Name"\ndescription: "Exibe uma sauda\xe7\xe3o simples"\ninputs:\n  name:\n    description: "Nome a exibir"\n    required: false\n    default: "Mundo"\noutputs:\n  message:\n    description: "Mensagem gerada"\nruns:\n  using: "composite"\n  steps:\n    - id: make-msg\n      shell: bash\n      run: |\n        MSG="Ol\xe1, ${{ inputs.name }}!"\n        echo "message=${MSG}" >> "$GITHUB_OUTPUT"\n'})}),"\n",(0,i.jsx)(o.p,{children:"Uso da action no workflow:"}),"\n",(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-yaml",children:'name: Aula 26 \u2014 Demo Action\non: { workflow_dispatch: }\n\njobs:\n  demo:\n    runs-on: ubuntu-latest\n    steps:\n      - name: Usar action\n        uses: my-org/echo-name@v1\n        with:\n          name: "Estudante"\n      - name: Mostrar output\n        run: |\n          echo "Mensagem: ${{ steps.make-msg.outputs.message }}"\n'})}),"\n",(0,i.jsxs)(o.p,{children:["No exemplo, a action composta gera um output ",(0,i.jsx)(o.code,{children:"message"})," via ",(0,i.jsx)(o.code,{children:"GITHUB_OUTPUT"})," e o workflow consumidor imprime a mensagem. Em uma action JS, a l\xf3gica seria implementada em Node e referenciada no ",(0,i.jsx)(o.code,{children:"action.yml"}),". Em Docker, a l\xf3gica viria na imagem definida."]}),"\n",(0,i.jsx)(o.h2,{id:"conclus\xe3o",children:"Conclus\xe3o"}),"\n",(0,i.jsx)(o.p,{children:"Escolha o tipo de action conforme a necessidade de ambiente e velocidade. Descreva metadados, inputs e outputs com clareza, publique vers\xf5es est\xe1veis e incentive pinning quando seguran\xe7a \xe9 prioridade. Com isso, suas actions tornam-se reutiliz\xe1veis, previs\xedveis e f\xe1ceis de manter."})]})}function u(e={}){const{wrapper:o}={...(0,a.R)(),...e.components};return o?(0,i.jsx)(o,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}}}]);