"use strict";(globalThis.webpackChunkdevops_automation_site=globalThis.webpackChunkdevops_automation_site||[]).push([[6631],{7652:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>t,contentTitle:()=>r,default:()=>u,frontMatter:()=>i,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"modulo-04-avancado/custo-performance","title":"Custos, Performance e Limites","description":"Introdu\xe7\xe3o","source":"@site/curso-github-actions-udemy/modulo-04-avancado/09-custo-peformance.md","sourceDirName":"modulo-04-avancado","slug":"/modulo-04-avancado/custo-performance","permalink":"/udemy/github-actions-automacao/modulo-04-avancado/custo-performance","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"id":"custo-performance","title":"Custos, Performance e Limites"},"sidebar":"tutorialSidebar","previous":{"title":"Desenvolvendo Actions","permalink":"/udemy/github-actions-automacao/modulo-04-avancado/dev-actions"}}');var a=n(4848),c=n(8453);const i={id:"custo-performance",title:"Custos, Performance e Limites"},r="Custos, Performance e Limites",t={},d=[{value:"Introdu\xe7\xe3o",id:"introdu\xe7\xe3o",level:2},{value:"Defini\xe7\xe3o",id:"defini\xe7\xe3o",level:2},{value:"Explica\xe7\xe3o T\xe9cnica",id:"explica\xe7\xe3o-t\xe9cnica",level:2},{value:"Exemplo",id:"exemplo",level:2},{value:"Conclus\xe3o",id:"conclus\xe3o",level:2}];function l(e){const o={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.header,{children:(0,a.jsx)(o.h1,{id:"custos-performance-e-limites",children:"Custos, Performance e Limites"})}),"\n",(0,a.jsx)(o.h2,{id:"introdu\xe7\xe3o",children:"Introdu\xe7\xe3o"}),"\n",(0,a.jsx)(o.p,{children:"Minutos de execu\xe7\xe3o e capacidade de executores s\xe3o recursos finitos. Otimizar workflows reduz custos, acelera feedback e evita gargalos. Esta aula consolida pr\xe1ticas para tirar mais proveito de cache, matriz, concorr\xeancia e escopo de execu\xe7\xe3o."}),"\n",(0,a.jsx)(o.h2,{id:"defini\xe7\xe3o",children:"Defini\xe7\xe3o"}),"\n",(0,a.jsx)(o.p,{children:"Custos relacionam-se ao tempo de execu\xe7\xe3o em executores hospedados, ao paralelismo e ao volume de transfer\xeancias. Performance \xe9 o equil\xedbrio entre velocidade e confiabilidade, obtido com cache eficiente, paralelismo controlado e cancelamento de execu\xe7\xf5es obsoletas."}),"\n",(0,a.jsx)(o.p,{children:"Links oficiais:"}),"\n",(0,a.jsxs)(o.ul,{children:["\n",(0,a.jsxs)(o.li,{children:["Executores hospedados pelo GitHub: ",(0,a.jsx)(o.a,{href:"https://docs.github.com/pt/actions/using-github-hosted-runners/about-github-hosted-runners",children:"https://docs.github.com/pt/actions/using-github-hosted-runners/about-github-hosted-runners"})]}),"\n",(0,a.jsxs)(o.li,{children:["Cache/Artifacts: ",(0,a.jsx)(o.a,{href:"https://docs.github.com/pt/actions/using-workflows/caching-dependencies-to-speed-up-workflows",children:"https://docs.github.com/pt/actions/using-workflows/caching-dependencies-to-speed-up-workflows"})]}),"\n"]}),"\n",(0,a.jsx)(o.h2,{id:"explica\xe7\xe3o-t\xe9cnica",children:"Explica\xe7\xe3o T\xe9cnica"}),"\n",(0,a.jsxs)(o.p,{children:["Reduza execu\xe7\xf5es desnecess\xe1rias filtrando triggers (branches, paths) e usando ",(0,a.jsx)(o.code,{children:"concurrency"})," com ",(0,a.jsx)(o.code,{children:"cancel-in-progress"})," para PRs com muitos commits. Aproveite cache para depend\xeancias determin\xedsticas com chaves baseadas em lockfiles e evite caches enormes."]}),"\n",(0,a.jsxs)(o.p,{children:["Ajuste ",(0,a.jsx)(o.code,{children:"matrix"})," para cobrir apenas combina\xe7\xf5es relevantes e limite ",(0,a.jsx)(o.code,{children:"max-parallel"})," conforme a cota. Separe jobs para isolar partes que exigem permiss\xf5es ou ambientes diferentes, evitando refazer trabalho. Artefatos devem ser usados de forma comedida \u2014 guarde somente o que agrega valor a etapas seguintes."]}),"\n",(0,a.jsxs)(o.p,{children:["Minimize downloads repetidos utilizando caches de linguagem/ecossistema (npm, pip, maven). Considere reuso de camadas (em builds Docker) e invalida\xe7\xf5es inteligentes. Em reposit\xf3rios grandes, adote estrat\xe9gias de \u201cbuild afetado\u201d (executar somente para caminhos alterados) com ",(0,a.jsx)(o.code,{children:"paths"}),"/",(0,a.jsx)(o.code,{children:"paths-ignore"}),"."]}),"\n",(0,a.jsx)(o.h2,{id:"exemplo",children:"Exemplo"}),"\n",(0,a.jsx)(o.p,{children:"Exemplo conceitual combinando filtros de trigger, cache e concorr\xeancia para PRs."}),"\n",(0,a.jsx)(o.pre,{children:(0,a.jsx)(o.code,{className:"language-yaml",children:'name: Aula 27 \u2014 Custo e Performance\non:\n  pull_request:\n    branches: [ main ]\n    paths:\n      - "src/**"\n      - "package.json"\n      - "package-lock.json"\n\nconcurrency:\n  group: ${{ github.workflow }}-${{ github.ref }}\n  cancel-in-progress: true\n\njobs:\n  build:\n    runs-on: ubuntu-latest\n    steps:\n      - name: Cache npm\n        uses: actions/cache@v4\n        with:\n          path: ~/.npm\n          key: npm-${{ runner.os }}-${{ hashFiles(\'**/package-lock.json\') }}\n          restore-keys: |\n            npm-${{ runner.os }}-\n      - name: Build\n        run: |\n          echo "Executando build apenas para mudan\xe7as relevantes"\n'})}),"\n",(0,a.jsx)(o.p,{children:"O workflow dispara apenas quando arquivos relevantes mudam, reutiliza depend\xeancias cacheadas e cancela execu\xe7\xf5es antigas do mesmo PR, reduzindo minutos e acelerando feedback."}),"\n",(0,a.jsx)(o.h2,{id:"conclus\xe3o",children:"Conclus\xe3o"}),"\n",(0,a.jsx)(o.p,{children:"Corte desperd\xedcios antes de acelerar: rode apenas o necess\xe1rio, cancele o obsoleto e reuse o que for determin\xedstico. Com bom uso de triggers, cache, matriz e concorr\xeancia, voc\xea reduz custos sem sacrificar qualidade."})]})}function u(e={}){const{wrapper:o}={...(0,c.R)(),...e.components};return o?(0,a.jsx)(o,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},8453:(e,o,n)=>{n.d(o,{R:()=>i,x:()=>r});var s=n(6540);const a={},c=s.createContext(a);function i(e){const o=s.useContext(c);return s.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function r(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),s.createElement(c.Provider,{value:o},e.children)}}}]);