"use strict";(self.webpackChunkdevops_automation_site=self.webpackChunkdevops_automation_site||[]).push([[6416],{8453:(e,r,o)=>{o.d(r,{R:()=>i,x:()=>d});var a=o(6540);const n={},s=a.createContext(n);function i(e){const r=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function d(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),a.createElement(s.Provider,{value:r},e.children)}},9599:(e,r,o)=>{o.r(r),o.d(r,{assets:()=>t,contentTitle:()=>d,default:()=>l,frontMatter:()=>i,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"lab-1-rg","title":"Lab 1 - Criando um Resource Group no Azure com Terraform","description":"Introdu\xe7\xe3o","source":"@site/curso-terraform-udemy/09-lab-resource-group.md","sourceDirName":".","slug":"/lab-1-rg","permalink":"/udemy/terraform-automacao/lab-1-rg","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"id":"lab-1-rg","title":"Lab 1 - Criando um Resource Group no Azure com Terraform","noindex":true},"sidebar":"tutorialSidebar","previous":{"title":"Aula 7 - O Perigo do terraform.tfstate e a Solu\xe7\xe3o do Backend Remoto","permalink":"/udemy/terraform-automacao/backend-remote"},"next":{"title":"Lab - Vari\xe1veis e Outputs no Terraform","permalink":"/udemy/terraform-automacao/lab-2-variables-output"}}');var n=o(4848),s=o(8453);const i={id:"lab-1-rg",title:"Lab 1 - Criando um Resource Group no Azure com Terraform",noindex:!0},d="Lab: Criando um Resource Group no Azure com Terraform",t={},c=[{value:"Introdu\xe7\xe3o",id:"introdu\xe7\xe3o",level:2},{value:"Pr\xe9-requisitos",id:"pr\xe9-requisitos",level:2},{value:"Estrutura esperada de arquivos",id:"estrutura-esperada-de-arquivos",level:2},{value:"Conte\xfado do arquivo <code>main.tf</code>",id:"conte\xfado-do-arquivo-maintf",level:2},{value:"Comandos Terraform",id:"comandos-terraform",level:2},{value:"1. Inicializar o diret\xf3rio do projeto",id:"1-inicializar-o-diret\xf3rio-do-projeto",level:3},{value:"2. Planejar a execu\xe7\xe3o",id:"2-planejar-a-execu\xe7\xe3o",level:3},{value:"3. Aplicar o plano",id:"3-aplicar-o-plano",level:3},{value:"4. Destruir os recursos criados",id:"4-destruir-os-recursos-criados",level:3},{value:"Resultado Esperado",id:"resultado-esperado",level:2}];function u(e){const r={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.header,{children:(0,n.jsx)(r.h1,{id:"lab-criando-um-resource-group-no-azure-com-terraform",children:"Lab: Criando um Resource Group no Azure com Terraform"})}),"\n",(0,n.jsx)(r.h2,{id:"introdu\xe7\xe3o",children:"Introdu\xe7\xe3o"}),"\n",(0,n.jsx)(r.p,{children:"Neste lab, vamos criar um Resource Group no Microsoft Azure utilizando Terraform. O objetivo \xe9 entender os primeiros passos da infraestrutura como c\xf3digo e preparar o ambiente para futuras implementa\xe7\xf5es."}),"\n",(0,n.jsx)(r.h2,{id:"pr\xe9-requisitos",children:"Pr\xe9-requisitos"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"Terraform instalado (vers\xe3o 1.12.2)"}),"\n",(0,n.jsx)(r.li,{children:"Conta na Azure com permiss\xf5es para criar recursos"}),"\n",(0,n.jsxs)(r.li,{children:["Azure CLI instalada e autenticada (",(0,n.jsx)(r.code,{children:"az login"}),")"]}),"\n",(0,n.jsx)(r.li,{children:"Vari\xe1vel de ambiente com ID da assinatura configurada:"}),"\n"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-bash",children:'export ARM_SUBSCRIPTION_ID="subscription_id"\n'})}),"\n",(0,n.jsxs)(r.p,{children:["Substitua ",(0,n.jsx)(r.code,{children:"subscription_id"})," pelo ID real da sua assinatura Azure."]}),"\n",(0,n.jsx)(r.h2,{id:"estrutura-esperada-de-arquivos",children:"Estrutura esperada de arquivos"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:"terraform-lab-resource-group/\n\u251c\u2500\u2500 main.tf\n"})}),"\n",(0,n.jsxs)(r.h2,{id:"conte\xfado-do-arquivo-maintf",children:["Conte\xfado do arquivo ",(0,n.jsx)(r.code,{children:"main.tf"})]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-terraform",children:'terraform {\n  required_providers {\n    azurerm = {\n      source  = "hashicorp/azurerm"\n      version = "4.35.0"\n    }\n  }\n\n  required_version = ">= 1.12.2"\n}\n\nprovider "azurerm" {\n  features {}\n}\n\nresource "azurerm_resource_group" "exemplo" {\n  name     = "rg-lab-terraform"\n  location = "East US"\n}\n'})}),"\n",(0,n.jsx)(r.h2,{id:"comandos-terraform",children:"Comandos Terraform"}),"\n",(0,n.jsx)(r.h3,{id:"1-inicializar-o-diret\xf3rio-do-projeto",children:"1. Inicializar o diret\xf3rio do projeto"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-bash",children:"terraform init\n"})}),"\n",(0,n.jsx)(r.p,{children:"Esse comando prepara o diret\xf3rio para uso com Terraform, baixando os plugins necess\xe1rios (como o provider da Azure)."}),"\n",(0,n.jsx)(r.h3,{id:"2-planejar-a-execu\xe7\xe3o",children:"2. Planejar a execu\xe7\xe3o"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-bash",children:"terraform plan\n"})}),"\n",(0,n.jsx)(r.p,{children:"Esse comando mostra o que o Terraform ir\xe1 fazer sem aplicar nenhuma mudan\xe7a. \xd3timo para revisar antes de executar."}),"\n",(0,n.jsx)(r.h3,{id:"3-aplicar-o-plano",children:"3. Aplicar o plano"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-bash",children:"terraform apply\n"})}),"\n",(0,n.jsxs)(r.p,{children:["Esse comando aplica as mudan\xe7as e cria o resource group no Azure. Confirme com ",(0,n.jsx)(r.code,{children:"yes"})," quando solicitado."]}),"\n",(0,n.jsx)(r.h3,{id:"4-destruir-os-recursos-criados",children:"4. Destruir os recursos criados"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-bash",children:"terraform destroy\n"})}),"\n",(0,n.jsxs)(r.p,{children:["Esse comando remove todos os recursos que foram criados pelo Terraform. Confirme com ",(0,n.jsx)(r.code,{children:"yes"})," quando solicitado."]}),"\n",(0,n.jsxs)(r.blockquote,{children:["\n",(0,n.jsxs)(r.p,{children:["\u26a0\ufe0f ",(0,n.jsx)(r.strong,{children:"Aten\xe7\xe3o:"})," \xc9 sempre recomendado destruir os recursos ap\xf3s o t\xe9rmino dos testes para evitar cobran\xe7as inesperadas na sua conta Azure."]}),"\n"]}),"\n",(0,n.jsx)(r.h2,{id:"resultado-esperado",children:"Resultado Esperado"}),"\n",(0,n.jsxs)(r.p,{children:["Ap\xf3s a execu\xe7\xe3o do ",(0,n.jsx)(r.code,{children:"terraform apply"}),", voc\xea dever\xe1 ver uma mensagem como:"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:"Apply complete! Resources: 1 added, 0 changed, 0 destroyed.\n"})}),"\n",(0,n.jsx)(r.p,{children:'E o resource group "rg-lab-terraform" estar\xe1 criado no portal do Azure, na regi\xe3o "East US".'})]})}function l(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(u,{...e})}):u(e)}}}]);